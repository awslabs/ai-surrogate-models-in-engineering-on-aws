<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Quickstart with Surface Variable Prediction &#8212; AI Surrogate Models for Engineering on AWS 0.1.1 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=5ecbeea2" />
    <link rel="stylesheet" type="text/css" href="../_static/basic.css?v=9de7e953" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css?v=06097142" />
    <script src="../_static/documentation_options.js?v=a58bc63e"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Quickstart with Slice Prediction" href="quickstart-slices.html" />
    <link rel="prev" title="Quickstart with KPI Prediction" href="quickstart-kpi.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="quickstart-with-surface-variable-prediction">
<span id="quickstart-surface"></span><h1>Quickstart with Surface Variable Prediction<a class="headerlink" href="#quickstart-with-surface-variable-prediction" title="Link to this heading">¶</a></h1>
<p>To get started, first make sure that:</p>
<ul class="simple">
<li><p>MLSimKit is <a class="reference internal" href="install.html#install"><span class="std std-ref">installed</span></a></p></li>
</ul>
<p>We’ll use a sample dataset to quickly show you an end-to-end workflow.</p>
<p>Surface variable prediction is accessed via the <code class="docutils literal notranslate"><span class="pre">mlsimkit-learn</span> <span class="pre">surface</span></code> command:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>Usage:<span class="w"> </span>mlsimkit-learn<span class="w"> </span>surface<span class="w"> </span><span class="o">[</span>OPTIONS<span class="o">]</span><span class="w"> </span>COMMAND1<span class="w"> </span><span class="o">[</span>ARGS<span class="o">]</span>...<span class="w"> </span><span class="o">[</span>COMMAND2
<span class="w">                              </span><span class="o">[</span>ARGS<span class="o">]</span>...<span class="o">]</span>...

<span class="w">  </span>Use<span class="w"> </span>Case:<span class="w"> </span>Surface<span class="w"> </span>variable<span class="w"> </span>prediction<span class="w"> </span>via<span class="w"> </span>MeshGraphNets<span class="w"> </span><span class="o">(</span>MGN<span class="o">)</span>

Options:
<span class="w">  </span>--manifest-uri<span class="w"> </span>PATH<span class="w">  </span>Manifest<span class="w"> </span>file<span class="w"> </span>to<span class="w"> </span>drive<span class="w"> </span>all<span class="w"> </span>subcommands.<span class="w"> </span>Searches
<span class="w">                       </span>mlsimkit/datasets<span class="w"> </span>as<span class="w"> </span>a<span class="w"> </span>fallback
<span class="w">  </span>--help<span class="w">               </span>Show<span class="w"> </span>this<span class="w"> </span>message<span class="w"> </span>and<span class="w"> </span>exit.

Commands:
<span class="w">  </span>predict
<span class="w">  </span>preprocess
<span class="w">  </span>train
</pre></div>
</div>
<p>To run surface variable prediction commands, you may provide a config only or override the config with command-line arguments by running:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>mlsimkit-learn<span class="w"> </span>--config<span class="w"> </span>&lt;config&gt;<span class="w"> </span>surface<span class="w"> </span>&lt;command-name&gt;
</pre></div>
</div>
<p>You can use the <code class="docutils literal notranslate"><span class="pre">help</span></code> command to see the definitions of all the hyperparameters associated with any command. For example, the following command will display all hyperparameters for training:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>mlsimkit-learn<span class="w"> </span>surface<span class="w"> </span>train<span class="w"> </span>--help
</pre></div>
</div>
<section id="sample-dataset">
<h2>Sample Dataset<a class="headerlink" href="#sample-dataset" title="Link to this heading">¶</a></h2>
<p>There is a sample config and a very small sample dataset called “ahmed-sample” so you can run end-to-end quickly:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>src/mlsimkit/conf
└──<span class="w"> </span>surface
<span class="w">    </span>└──<span class="w"> </span>sample.yaml

src/mlsimkit/datasets
├──<span class="w"> </span>...
└──<span class="w"> </span>ahmed-sample
<span class="w">    </span>├──<span class="w"> </span>mapped_vtps
<span class="w">    </span>└──<span class="w"> </span>surface.manifest
</pre></div>
</div>
</section>
<section id="external-datasets">
<h2>External Datasets<a class="headerlink" href="#external-datasets" title="Link to this heading">¶</a></h2>
<p>In addition to the sample dataset, there are tutorials to get started with publicly available datasets:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>tutorials/
└── surface
    ├── ahmed/
    ├── drivaer/
    ├── sample/
    └── windsor/
</pre></div>
</div>
</section>
<section id="run-the-sample">
<h2>Run the Sample<a class="headerlink" href="#run-the-sample" title="Link to this heading">¶</a></h2>
<p>First, make a folder for all the outputs. Replace <code class="docutils literal notranslate"><span class="pre">--output-dir</span> <span class="pre">quickstart/surface</span></code> in all the commands below with your own folder location.</p>
<p>Second, run the entire train-predict pipeline to make predictions on the sample data:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>mlsimkit-learn<span class="w"> </span>--output-dir<span class="w"> </span>quickstart/surface<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--config<span class="w"> </span>src/mlsimkit/conf/surface/sample.yaml<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>surface<span class="w"> </span>preprocess<span class="w"> </span>train<span class="w"> </span>--device<span class="w"> </span>cpu<span class="w"> </span>predict
</pre></div>
</div>
<p>Also, note that commands can be chained together.  For example, the above runs <cite>preprocess</cite>, <cite>train</cite>, and then <cite>predict</cite>.</p>
<section id="running-on-gpu">
<h3>Running on GPU<a class="headerlink" href="#running-on-gpu" title="Link to this heading">¶</a></h3>
<p>MLSimKit automatically uses a GPU by default. To use your GPU, remove <code class="docutils literal notranslate"><span class="pre">--device</span> <span class="pre">cpu</span></code> from the previous command and run again:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>mlsimkit-learn<span class="w"> </span>--output-dir<span class="w"> </span>quickstart/surface<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--config<span class="w"> </span>src/mlsimkit/conf/surface/sample.yaml<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>surface<span class="w"> </span>preprocess<span class="w"> </span>train<span class="w"> </span>predict
</pre></div>
</div>
<p>All artifacts are written into the output directory <code class="docutils literal notranslate"><span class="pre">--output-dir</span></code>. You may also set the output directory in the config file. Commands automatically share paths to the output artifacts such as the train model path. The sample configuration below sets some input options but most options use defaults. There are many options, which we go into detail after the quickstart.</p>
<p>The sample configuration <code class="docutils literal notranslate"><span class="pre">conf/surface/sample.yaml</span></code> looks like this:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">surface</span><span class="p">:</span>
<span class="w">   </span><span class="nt">manifest_uri</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ahmed-sample/surface.manifest</span>

<span class="w">   </span><span class="nt">preprocess</span><span class="p">:</span>
<span class="w">     </span><span class="nt">surface_variables</span><span class="p">:</span>
<span class="w">     </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">pMean</span>
<span class="w">     </span><span class="nt">manifest-base-relative-path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ManifestRoot</span>

<span class="w">   </span><span class="nt">train</span><span class="p">:</span>
<span class="w">     </span><span class="nt">epochs</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span>
<span class="w">     </span><span class="nt">batch_size</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>A manifest (<code class="docutils literal notranslate"><span class="pre">manifest_uri</span></code>) describes the paths to a dataset and is used to share data between tasks. For now, know that <code class="docutils literal notranslate"><span class="pre">surface.manifest</span></code>
references a small dataset packaged with MLSimKit.</p>
</div>
<p>You will see console logs for all three commands, something like below. File artifacts are written to the <code class="docutils literal notranslate"><span class="pre">--output-dir</span></code>.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span>MLSimKit<span class="o">]</span><span class="w"> </span>Learning<span class="w"> </span>Tools
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span>Package<span class="w"> </span>Version:<span class="w"> </span><span class="m">0</span>.2.1.dev44+gff018da
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span>Use<span class="w"> </span>Case:<span class="w"> </span>Surface<span class="w"> </span>variable<span class="w"> </span>prediction<span class="w"> </span>via<span class="w"> </span>MeshGraphNets<span class="w"> </span><span class="o">(</span>MGN<span class="o">)</span>
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span>Running<span class="w"> </span><span class="nb">command</span><span class="w"> </span><span class="s1">&#39;preprocess&#39;</span>
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span>Preprocessing<span class="w"> </span>configuration:<span class="w"> </span><span class="nv">manifest_path</span><span class="o">=</span><span class="s1">&#39;/home/ubuntu/mlsimkit/src/mlsimkit/datasets/ahmed-sample/surface.manifest&#39;</span><span class="w"> </span><span class="nv">output_dir</span><span class="o">=</span><span class="s1">&#39;/home/ubuntu/mlsimkit/quickstart/surface/preprocessed_data&#39;</span><span class="w"> </span><span class="nv">downsample_remaining_perc</span><span class="o">=</span>None<span class="w"> </span><span class="nv">num_processes</span><span class="o">=</span>None<span class="w"> </span><span class="nv">save_cell_data</span><span class="o">=</span>True<span class="w"> </span><span class="nv">map_data_to_stl</span><span class="o">=</span>False<span class="w"> </span><span class="nv">mapping_interpolation_method</span><span class="o">=</span>&lt;InterpolationMethod.POINTS:<span class="w"> </span><span class="s1">&#39;points&#39;</span>&gt;<span class="w"> </span><span class="nv">mapping_interpolation_radius</span><span class="o">=</span>None<span class="w"> </span><span class="nv">mapping_interpolation_n_points</span><span class="o">=</span><span class="m">3</span><span class="w"> </span><span class="nv">save_mapped_files</span><span class="o">=</span>False<span class="w"> </span><span class="nv">normalize_node_positions</span><span class="o">=</span>True<span class="w"> </span><span class="nv">manifest_base_relative_path</span><span class="o">=</span>&lt;RelativePathBase.ManifestRoot:<span class="w"> </span><span class="s1">&#39;ManifestRoot&#39;</span>&gt;
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span>Using<span class="w"> </span><span class="s1">&#39;data_files&#39;</span><span class="w"> </span><span class="k">for</span><span class="w"> </span>preprocessing
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span>Preprocessing<span class="w"> </span>mesh<span class="w"> </span>files<span class="w"> </span><span class="o">(</span><span class="nv">num_processes</span><span class="o">=</span><span class="m">95</span><span class="o">)</span>
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span>Selected<span class="w"> </span>surface<span class="w"> </span>variables:<span class="w"> </span><span class="o">[</span>SurfaceVariables<span class="o">(</span><span class="nv">name</span><span class="o">=</span><span class="s1">&#39;pMean&#39;</span>,<span class="w"> </span><span class="nv">dimensions</span><span class="o">=[])]</span>
...
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span>Saved<span class="w"> </span>output<span class="w"> </span>files<span class="w"> </span><span class="k">in</span><span class="w"> </span>/home/ubuntu/mlsimkit/quickstart/surface/preprocessed_data
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span>Manifest<span class="w"> </span><span class="s1">&#39;/home/ubuntu/mlsimkit/quickstart/surface/surface-copy.manifest&#39;</span><span class="w"> </span>written<span class="w"> </span><span class="o">(</span><span class="m">7</span><span class="w"> </span>records<span class="o">)</span>
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span>Total<span class="w"> </span>preprocessing<span class="w"> </span>time:<span class="w"> </span><span class="m">2</span>.452<span class="w"> </span>seconds
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span>Splitting<span class="w"> </span>manifest<span class="w"> </span>into<span class="w"> </span>train-size<span class="o">=</span><span class="m">0</span>.6<span class="w"> </span>valid-size<span class="o">=</span><span class="m">0</span>.2<span class="w"> </span>test-size<span class="o">=</span><span class="m">0</span>.2
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span>Manifest<span class="w"> </span><span class="s1">&#39;/home/ubuntu/mlsimkit/quickstart/surface/train.manifest&#39;</span><span class="w"> </span>written<span class="w"> </span><span class="o">(</span><span class="m">4</span><span class="w"> </span>records<span class="o">)</span>
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span>Manifest<span class="w"> </span><span class="s1">&#39;/home/ubuntu/mlsimkit/quickstart/surface/validate.manifest&#39;</span><span class="w"> </span>written<span class="w"> </span><span class="o">(</span><span class="m">1</span><span class="w"> </span>records<span class="o">)</span>
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span>Manifest<span class="w"> </span><span class="s1">&#39;/home/ubuntu/mlsimkit/quickstart/surface/test.manifest&#39;</span><span class="w"> </span>written<span class="w"> </span><span class="o">(</span><span class="m">2</span><span class="w"> </span>records<span class="o">)</span>
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span>Running<span class="w"> </span><span class="nb">command</span><span class="w"> </span><span class="s1">&#39;train&#39;</span>
...
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span>Training<span class="w"> </span>started<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="s1">&#39;model&#39;</span>
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span>Train<span class="w"> </span>dataset<span class="w"> </span>size:<span class="w"> </span><span class="m">4</span>
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span>Validation<span class="w"> </span>dataset<span class="w"> </span>size:<span class="w"> </span><span class="m">1</span>
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span>Training:<span class="w">   </span><span class="m">0</span>%<span class="p">|</span><span class="w">                                                         </span><span class="p">|</span><span class="w"> </span><span class="m">0</span>/10<span class="w"> </span><span class="o">[</span><span class="m">00</span>:00&lt;?,<span class="w"> </span>?epochs/s<span class="w"> </span><span class="o">]</span>
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span>Epoch<span class="w"> </span><span class="m">0</span>:<span class="w"> </span>train<span class="w"> </span><span class="nv">loss</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span>.58301<span class="w"> </span><span class="o">(</span><span class="m">1</span>.58301,<span class="w"> </span><span class="m">0</span>.00000,<span class="w"> </span><span class="m">0</span>.00000,<span class="w"> </span><span class="m">0</span>.00000<span class="o">)</span><span class="p">;</span><span class="w"> </span>validation<span class="w"> </span><span class="nv">loss</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span>.93436<span class="w"> </span><span class="o">(</span><span class="m">0</span>.93436,<span class="w"> </span><span class="m">0</span>.00000,<span class="w"> </span><span class="m">0</span>.00000,<span class="w"> </span><span class="m">0</span>.00000<span class="o">)</span><span class="p">;</span><span class="w"> </span>best<span class="w"> </span>validation<span class="w"> </span><span class="nv">loss</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>inf
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span>Model<span class="w"> </span>saved<span class="w"> </span>to<span class="w"> </span><span class="s1">&#39;/home/ubuntu/mlsimkit/quickstart/surface/training_output/best_model.pt&#39;</span>
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span>Model<span class="w"> </span>saved<span class="w"> </span>to<span class="w"> </span><span class="s1">&#39;/home/ubuntu/mlsimkit/quickstart/surface/training_output/checkpoint_models/model_epoch0.pt&#39;</span>
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span>Training:<span class="w">  </span><span class="m">10</span>%<span class="p">|</span>████▉<span class="w">                                            </span><span class="p">|</span><span class="w"> </span><span class="m">1</span>/10<span class="w"> </span><span class="o">[</span><span class="m">00</span>:00&lt;<span class="m">00</span>:08,<span class="w">  </span><span class="m">1</span>.02epochs/s<span class="w"> </span><span class="o">]</span>
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span>Epoch<span class="w"> </span><span class="m">1</span>:<span class="w"> </span>train<span class="w"> </span><span class="nv">loss</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span>.92012<span class="w"> </span><span class="o">(</span><span class="m">0</span>.92012,<span class="w"> </span><span class="m">0</span>.00000,<span class="w"> </span><span class="m">0</span>.00000,<span class="w"> </span><span class="m">0</span>.00000<span class="o">)</span><span class="p">;</span><span class="w"> </span>validation<span class="w"> </span><span class="nv">loss</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span>.83899<span class="w"> </span><span class="o">(</span><span class="m">0</span>.83899,<span class="w"> </span><span class="m">0</span>.00000,<span class="w"> </span><span class="m">0</span>.00000,<span class="w"> </span><span class="m">0</span>.00000<span class="o">)</span><span class="p">;</span><span class="w"> </span>best<span class="w"> </span>validation<span class="w"> </span><span class="nv">loss</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span>.93436
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span>Model<span class="w"> </span>saved<span class="w"> </span>to<span class="w"> </span><span class="s1">&#39;/home/ubuntu/mlsimkit/quickstart/surface/training_output/best_model.pt&#39;</span>
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span>Training:<span class="w">  </span><span class="m">20</span>%<span class="p">|</span>█████████▊<span class="w">                                       </span><span class="p">|</span><span class="w"> </span><span class="m">2</span>/10<span class="w"> </span><span class="o">[</span><span class="m">00</span>:01&lt;<span class="m">00</span>:04,<span class="w">  </span><span class="m">1</span>.76epochs/s<span class="w"> </span><span class="o">]</span>
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span>Epoch<span class="w"> </span><span class="m">2</span>:<span class="w"> </span>train<span class="w"> </span><span class="nv">loss</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span>.87975<span class="w"> </span><span class="o">(</span><span class="m">0</span>.87975,<span class="w"> </span><span class="m">0</span>.00000,<span class="w"> </span><span class="m">0</span>.00000,<span class="w"> </span><span class="m">0</span>.00000<span class="o">)</span><span class="p">;</span><span class="w"> </span>validation<span class="w"> </span><span class="nv">loss</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span>.80079<span class="w"> </span><span class="o">(</span><span class="m">0</span>.80079,<span class="w"> </span><span class="m">0</span>.00000,<span class="w"> </span><span class="m">0</span>.00000,<span class="w"> </span><span class="m">0</span>.00000<span class="o">)</span><span class="p">;</span><span class="w"> </span>best<span class="w"> </span>validation<span class="w"> </span><span class="nv">loss</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span>.83899
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span>Model<span class="w"> </span>saved<span class="w"> </span>to<span class="w"> </span><span class="s1">&#39;/home/ubuntu/mlsimkit/quickstart/surface/training_output/best_model.pt&#39;</span>
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span>Training:<span class="w">  </span><span class="m">30</span>%<span class="p">|</span>██████████████▋<span class="w">                                  </span><span class="p">|</span><span class="w"> </span><span class="m">3</span>/10<span class="w"> </span><span class="o">[</span><span class="m">00</span>:01&lt;<span class="m">00</span>:03,<span class="w">  </span><span class="m">2</span>.31epochs/s<span class="w"> </span><span class="o">]</span>
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span>Epoch<span class="w"> </span><span class="m">3</span>:<span class="w"> </span>train<span class="w"> </span><span class="nv">loss</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span>.73869<span class="w"> </span><span class="o">(</span><span class="m">0</span>.73869,<span class="w"> </span><span class="m">0</span>.00000,<span class="w"> </span><span class="m">0</span>.00000,<span class="w"> </span><span class="m">0</span>.00000<span class="o">)</span><span class="p">;</span><span class="w"> </span>validation<span class="w"> </span><span class="nv">loss</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span>.62471<span class="w"> </span><span class="o">(</span><span class="m">0</span>.62471,<span class="w"> </span><span class="m">0</span>.00000,<span class="w"> </span><span class="m">0</span>.00000,<span class="w"> </span><span class="m">0</span>.00000<span class="o">)</span><span class="p">;</span><span class="w"> </span>best<span class="w"> </span>validation<span class="w"> </span><span class="nv">loss</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span>.80079
...
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span>Training:<span class="w">  </span><span class="m">90</span>%<span class="p">|</span>████████████████████████████████████████████<span class="w">     </span><span class="p">|</span><span class="w"> </span><span class="m">9</span>/10<span class="w"> </span><span class="o">[</span><span class="m">00</span>:02&lt;<span class="m">00</span>:00,<span class="w">  </span><span class="m">3</span>.98epochs/s<span class="w"> </span><span class="o">]</span>
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span>Epoch<span class="w"> </span><span class="m">9</span>:<span class="w"> </span>train<span class="w"> </span><span class="nv">loss</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span>.17296<span class="w"> </span><span class="o">(</span><span class="m">0</span>.17296,<span class="w"> </span><span class="m">0</span>.00000,<span class="w"> </span><span class="m">0</span>.00000,<span class="w"> </span><span class="m">0</span>.00000<span class="o">)</span><span class="p">;</span><span class="w"> </span>validation<span class="w"> </span><span class="nv">loss</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span>.18069<span class="w"> </span><span class="o">(</span><span class="m">0</span>.18069,<span class="w"> </span><span class="m">0</span>.00000,<span class="w"> </span><span class="m">0</span>.00000,<span class="w"> </span><span class="m">0</span>.00000<span class="o">)</span><span class="p">;</span><span class="w"> </span>best<span class="w"> </span>validation<span class="w"> </span><span class="nv">loss</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span>.15008
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span>Epoch<span class="w"> </span><span class="m">8</span><span class="w"> </span>had<span class="w"> </span>the<span class="w"> </span>minimum<span class="w"> </span>validation<span class="w"> </span>loss.
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span>Model<span class="w"> </span>saved<span class="w"> </span>to<span class="w"> </span><span class="s1">&#39;/home/ubuntu/mlsimkit/quickstart/surface/training_output/last_model.pt&#39;</span>
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span>Training:<span class="w"> </span><span class="m">100</span>%<span class="p">|</span>████████████████████████████████████████████████<span class="p">|</span><span class="w"> </span><span class="m">10</span>/10<span class="w"> </span><span class="o">[</span><span class="m">00</span>:02&lt;<span class="m">00</span>:00,<span class="w">  </span><span class="m">3</span>.74epochs/s<span class="w"> </span><span class="o">]</span>
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span>Training<span class="w"> </span><span class="nb">time</span><span class="w"> </span><span class="k">for</span><span class="w"> </span>model:<span class="w"> </span><span class="m">2</span>.689<span class="w"> </span>seconds<span class="w"> </span>/<span class="w"> </span><span class="m">0</span>.045<span class="w"> </span>minutes
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span>Minimum<span class="w"> </span>validation<span class="w"> </span>loss:<span class="w"> </span><span class="m">0</span>.15008
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span>Minimum<span class="w"> </span>train<span class="w"> </span>loss:<span class="w"> </span><span class="m">0</span>.17296
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span>Get<span class="w"> </span>predictions<span class="w"> </span>on<span class="w"> </span>the<span class="w"> </span>training<span class="w"> </span><span class="nb">set</span>
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span>Run<span class="w"> </span>inference<span class="w"> </span>on<span class="w"> </span>geometry<span class="w"> </span><span class="m">1</span>
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span>Run<span class="w"> </span>inference<span class="w"> </span>on<span class="w"> </span>geometry<span class="w"> </span><span class="m">2</span>
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span>Run<span class="w"> </span>inference<span class="w"> </span>on<span class="w"> </span>geometry<span class="w"> </span><span class="m">3</span>
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span>Run<span class="w"> </span>inference<span class="w"> </span>on<span class="w"> </span>geometry<span class="w"> </span><span class="m">4</span>
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span>Prediction<span class="w"> </span>error<span class="w"> </span><span class="k">for</span><span class="w"> </span>surface<span class="w"> </span>variable<span class="w"> </span><span class="s1">&#39;pMean&#39;</span>:<span class="w"> </span>RMSE<span class="w"> </span><span class="o">(</span>root<span class="w"> </span>mean<span class="w"> </span>squared<span class="w"> </span>error<span class="o">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span>.0742051303,<span class="w"> </span>MAE<span class="w"> </span><span class="o">(</span>mean<span class="w"> </span>absolute<span class="w"> </span>error<span class="o">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span>.04554,<span class="w"> </span>WMAPE<span class="w"> </span><span class="o">(</span>weighted<span class="w"> </span>mean<span class="w"> </span>absolute<span class="w"> </span>percentage<span class="w"> </span>error<span class="o">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span>.297,<span class="w"> </span>MAE<span class="w"> </span>normalized<span class="w"> </span>by<span class="w"> </span><span class="m">1</span>%-99%<span class="w"> </span>ground<span class="w"> </span>truth<span class="w"> </span><span class="nv">range</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span>.039,<span class="w"> </span>Average<span class="w"> </span>largest<span class="w"> </span><span class="m">1</span>%<span class="w"> </span>absolute<span class="w"> </span>deviation<span class="w"> </span>normalized<span class="w"> </span>by<span class="w"> </span>ground<span class="w"> </span>truth<span class="w"> </span><span class="nv">range</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span>.249,
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span>Get<span class="w"> </span>predictions<span class="w"> </span>on<span class="w"> </span>the<span class="w"> </span>validation<span class="w"> </span><span class="nb">set</span>
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span>Run<span class="w"> </span>inference<span class="w"> </span>on<span class="w"> </span>geometry<span class="w"> </span><span class="m">1</span>
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span>Prediction<span class="w"> </span>error<span class="w"> </span><span class="k">for</span><span class="w"> </span>surface<span class="w"> </span>variable<span class="w"> </span><span class="s1">&#39;pMean&#39;</span>:<span class="w"> </span>RMSE<span class="w"> </span><span class="o">(</span>root<span class="w"> </span>mean<span class="w"> </span>squared<span class="w"> </span>error<span class="o">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span>.0691222399,<span class="w"> </span>MAE<span class="w"> </span><span class="o">(</span>mean<span class="w"> </span>absolute<span class="w"> </span>error<span class="o">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span>.04100,<span class="w"> </span>WMAPE<span class="w"> </span><span class="o">(</span>weighted<span class="w"> </span>mean<span class="w"> </span>absolute<span class="w"> </span>percentage<span class="w"> </span>error<span class="o">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span>.250,<span class="w"> </span>MAE<span class="w"> </span>normalized<span class="w"> </span>by<span class="w"> </span><span class="m">1</span>%-99%<span class="w"> </span>ground<span class="w"> </span>truth<span class="w"> </span><span class="nv">range</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span>.034,<span class="w"> </span>Average<span class="w"> </span>largest<span class="w"> </span><span class="m">1</span>%<span class="w"> </span>absolute<span class="w"> </span>deviation<span class="w"> </span>normalized<span class="w"> </span>by<span class="w"> </span>ground<span class="w"> </span>truth<span class="w"> </span><span class="nv">range</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span>.231,
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span>Manifest<span class="w"> </span><span class="s1">&#39;/home/ubuntu/mlsimkit/quickstart/surface/train.manifest&#39;</span><span class="w"> </span>written<span class="w"> </span><span class="o">(</span><span class="m">4</span><span class="w"> </span>records<span class="o">)</span>
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span>Manifest<span class="w"> </span><span class="s1">&#39;/home/ubuntu/mlsimkit/quickstart/surface/validate.manifest&#39;</span><span class="w"> </span>written<span class="w"> </span><span class="o">(</span><span class="m">1</span><span class="w"> </span>records<span class="o">)</span>
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span>Training<span class="w"> </span>Completed
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span>Total<span class="w"> </span>training<span class="w"> </span>time:<span class="w"> </span><span class="m">3</span>.376<span class="w"> </span>seconds<span class="w"> </span>/<span class="w"> </span><span class="m">0</span>.056<span class="w"> </span>minutes
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span>Running<span class="w"> </span><span class="nb">command</span><span class="w"> </span><span class="s1">&#39;predict&#39;</span>
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span>Inference<span class="w"> </span>configuration:<span class="w"> </span><span class="nv">model_path</span><span class="o">=</span><span class="s1">&#39;/home/ubuntu/mlsimkit/quickstart/surface/training_output/best_model.pt&#39;</span><span class="w"> </span><span class="nv">manifest_path</span><span class="o">=</span><span class="s1">&#39;/home/ubuntu/mlsimkit/quickstart/surface/test.manifest&#39;</span><span class="w"> </span><span class="nv">inference_results_dir</span><span class="o">=</span><span class="s1">&#39;/home/ubuntu/mlsimkit/quickstart/surface/predictions&#39;</span><span class="w"> </span><span class="nv">device</span><span class="o">=</span>&lt;Device.CUDA:<span class="w"> </span><span class="s1">&#39;cuda&#39;</span>&gt;<span class="w"> </span><span class="nv">save_vtp_output</span><span class="o">=</span>&lt;VtpOutput.BOTH:<span class="w"> </span><span class="s1">&#39;prediction_and_difference&#39;</span>&gt;<span class="w"> </span><span class="nv">save_prediction_screenshots</span><span class="o">=</span>False<span class="w"> </span><span class="nv">screenshot_size</span><span class="o">=[</span><span class="m">2000</span>,<span class="w"> </span><span class="m">800</span><span class="o">]</span>
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span>Inference<span class="w"> </span>dataset<span class="w"> </span>size:<span class="w"> </span><span class="m">2</span>
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span>Time<span class="w"> </span>to<span class="w"> </span>load<span class="w"> </span>dataset<span class="w"> </span>and<span class="w"> </span>model:<span class="w"> </span><span class="m">0</span>.061<span class="w"> </span>seconds
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span>Run<span class="w"> </span>inference<span class="w"> </span>on<span class="w"> </span>geometry<span class="w"> </span><span class="m">1</span>
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span>Run<span class="w"> </span>inference<span class="w"> </span>on<span class="w"> </span>geometry<span class="w"> </span><span class="m">2</span>
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span>Prediction<span class="w"> </span>error<span class="w"> </span><span class="k">for</span><span class="w"> </span>surface<span class="w"> </span>variable<span class="w"> </span><span class="s1">&#39;pMean&#39;</span>:<span class="w"> </span>RMSE<span class="w"> </span><span class="o">(</span>root<span class="w"> </span>mean<span class="w"> </span>squared<span class="w"> </span>error<span class="o">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span>.0844738632,<span class="w"> </span>MAE<span class="w"> </span><span class="o">(</span>mean<span class="w"> </span>absolute<span class="w"> </span>error<span class="o">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span>.05038,<span class="w"> </span>WMAPE<span class="w"> </span><span class="o">(</span>weighted<span class="w"> </span>mean<span class="w"> </span>absolute<span class="w"> </span>percentage<span class="w"> </span>error<span class="o">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span>.320,<span class="w"> </span>MAE<span class="w"> </span>normalized<span class="w"> </span>by<span class="w"> </span><span class="m">1</span>%-99%<span class="w"> </span>ground<span class="w"> </span>truth<span class="w"> </span><span class="nv">range</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span>.048,<span class="w"> </span>Average<span class="w"> </span>largest<span class="w"> </span><span class="m">1</span>%<span class="w"> </span>absolute<span class="w"> </span>deviation<span class="w"> </span>normalized<span class="w"> </span>by<span class="w"> </span>ground<span class="w"> </span>truth<span class="w"> </span><span class="nv">range</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span>.309,
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span>Inference<span class="w"> </span><span class="nb">time</span><span class="w"> </span><span class="k">for</span><span class="w"> </span>each<span class="w"> </span>data<span class="w"> </span>point:<span class="w"> </span><span class="m">0</span>.037<span class="w"> </span>seconds
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span>Total<span class="w"> </span>inference<span class="w"> </span>time:<span class="w"> </span><span class="m">0</span>.135<span class="w"> </span>seconds
</pre></div>
</div>
<p>When complete, the output directory <code class="docutils literal notranslate"><span class="pre">quickstart/surface/</span></code> should now contain the data from preprocessing and training and the results for prediction. Something like this:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>quickstart/surface/
<span class="w"> </span>├──<span class="w"> </span>predictions
<span class="w"> </span>│<span class="w">   </span>├──<span class="w"> </span>error_metrics.csv
<span class="w"> </span>│<span class="w">   </span>├──<span class="w"> </span>pMean_errors_by_geometry.csv
<span class="w"> </span>│<span class="w">   </span>└──<span class="w"> </span>results
<span class="w"> </span>│<span class="w">       </span>├──<span class="w"> </span>predicted_boundary_1_mapped.vtp
<span class="w"> </span>│<span class="w">       </span>└──<span class="w"> </span>predicted_boundary_4_mapped.vtp
<span class="w"> </span>├──<span class="w"> </span>preprocessed_data
<span class="w"> </span>│<span class="w">   </span>├──<span class="w"> </span>preprocessed_run_00000.pt
<span class="w"> </span>│<span class="w">   </span>├──<span class="w"> </span>preprocessed_run_00001.pt
<span class="w"> </span>│<span class="w">   </span>├──<span class="w"> </span>preprocessed_run_00002.pt
<span class="w"> </span>│<span class="w">   </span>├──<span class="w"> </span>preprocessed_run_00003.pt
<span class="w"> </span>│<span class="w">   </span>├──<span class="w"> </span>preprocessed_run_00004.pt
<span class="w"> </span>│<span class="w">   </span>├──<span class="w"> </span>preprocessed_run_00005.pt
<span class="w"> </span>│<span class="w">   </span>└──<span class="w"> </span>preprocessed_run_00006.pt
<span class="w"> </span>├──<span class="w"> </span>surface-copy.manifest
<span class="w"> </span>├──<span class="w"> </span>test.manifest
<span class="w"> </span>├──<span class="w"> </span>train.manifest
<span class="w"> </span>├──<span class="w"> </span>training_output
<span class="w"> </span>│<span class="w">   </span>├──<span class="w"> </span>best_model.pt
<span class="w"> </span>│<span class="w">   </span>├──<span class="w"> </span>best_model_predictions
<span class="w"> </span>│<span class="w">   </span>│<span class="w">   </span>├──<span class="w"> </span>training
<span class="w"> </span>│<span class="w">   </span>│<span class="w">   </span>│<span class="w">   </span>├──<span class="w"> </span>error_metrics.csv
<span class="w"> </span>│<span class="w">   </span>│<span class="w">   </span>│<span class="w">   </span>├──<span class="w"> </span>pMean_errors_by_geometry.csv
<span class="w"> </span>│<span class="w">   </span>│<span class="w">   </span>│<span class="w">   </span>└──<span class="w"> </span>results
<span class="w"> </span>│<span class="w">   </span>│<span class="w">   </span>│<span class="w">       </span>├──<span class="w"> </span>predicted_boundary_2_mapped.vtp
<span class="w"> </span>│<span class="w">   </span>│<span class="w">   </span>│<span class="w">       </span>├──<span class="w"> </span>predicted_boundary_3_mapped.vtp
<span class="w"> </span>│<span class="w">   </span>│<span class="w">   </span>│<span class="w">       </span>├──<span class="w"> </span>predicted_boundary_6_mapped.vtp
<span class="w"> </span>│<span class="w">   </span>│<span class="w">   </span>│<span class="w">       </span>└──<span class="w"> </span>predicted_boundary_7_mapped.vtp
<span class="w"> </span>│<span class="w">   </span>│<span class="w">   </span>└──<span class="w"> </span>validation
<span class="w"> </span>│<span class="w">   </span>│<span class="w">       </span>├──<span class="w"> </span>error_metrics.csv
<span class="w"> </span>│<span class="w">   </span>│<span class="w">       </span>├──<span class="w"> </span>pMean_errors_by_geometry.csv
<span class="w"> </span>│<span class="w">   </span>│<span class="w">       </span>└──<span class="w"> </span>results
<span class="w"> </span>│<span class="w">   </span>│<span class="w">           </span>└──<span class="w"> </span>predicted_boundary_5_mapped.vtp
<span class="w"> </span>│<span class="w">   </span>├──<span class="w"> </span>checkpoint_models
<span class="w"> </span>│<span class="w">   </span>│<span class="w">   </span>└──<span class="w"> </span>model_epoch0.pt
<span class="w"> </span>│<span class="w">   </span>├──<span class="w"> </span>last_model.pt
<span class="w"> </span>│<span class="w">   </span>├──<span class="w"> </span>model_loss.csv
<span class="w"> </span>│<span class="w">   </span>├──<span class="w"> </span>model_loss.png
<span class="w"> </span>│<span class="w">   </span>└──<span class="w"> </span>model_loss_log.png
<span class="w"> </span>└──<span class="w"> </span>validate.manifest
</pre></div>
</div>
</section>
</section>
<section id="results">
<h2>Results<a class="headerlink" href="#results" title="Link to this heading">¶</a></h2>
<p>You have trained a surface variable prediction model from scratch on sample data.  You can compare the training and validation predictions using the output VTP files in <code class="docutils literal notranslate"><span class="pre">training_output/best_model_predictions/</span></code> against the original VTP files. The manifest files link inputs to outputs. For example, the <code class="docutils literal notranslate"><span class="pre">train.manifest</span></code> will look something like this:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>cat<span class="w"> </span>quickstart/surface/train.manifest<span class="w"> </span><span class="p">|</span><span class="w"> </span>jq<span class="w"> </span>.
<span class="w"> </span><span class="o">{</span>
<span class="w">   </span><span class="s2">&quot;data_files&quot;</span>:<span class="w"> </span><span class="o">[</span>
<span class="w">     </span><span class="s2">&quot;/home/ubuntu/mlsimkit/src/mlsimkit/datasets/ahmed-sample/mapped_vtps/boundary_6_mapped.vtp&quot;</span>
<span class="w">   </span><span class="o">]</span>,
<span class="w">   </span><span class="s2">&quot;id&quot;</span>:<span class="w"> </span><span class="m">5</span>,
<span class="w">   </span><span class="s2">&quot;preprocessed_files&quot;</span>:<span class="w"> </span><span class="s2">&quot;file:///home/ubuntu/mlsimkit/quickstart/surface/preprocessed_data/preprocessed_run_00005.pt&quot;</span>,
<span class="w">   </span><span class="s2">&quot;predicted_file&quot;</span>:<span class="w"> </span><span class="s2">&quot;/home/ubuntu/mlsimkit/quickstart/surface/training_output/best_model_predictions/training/predictions/predicted_boundary_6_mapped.vtp&quot;</span>
<span class="w"> </span><span class="o">}</span>
</pre></div>
</div>
<p>(<code class="docutils literal notranslate"><span class="pre">jq</span></code> is a command-line tool to ease JSON formatting and parsing.)</p>
<p>You can compare the <code class="docutils literal notranslate"><span class="pre">predicted_file</span></code> to the original <code class="docutils literal notranslate"><span class="pre">data_files</span></code> by loading the linked files into your preferred software like ParaView. We also provide a convenient viewer tool to automate the file loading for datasets.</p>
<p>Similar to training, results for prediction only via the <code class="docutils literal notranslate"><span class="pre">mlsimkit-learn</span> <span class="pre">surface</span> <span class="pre">predict</span></code> command are in <code class="docutils literal notranslate"><span class="pre">predictions/</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The prediction results are poor because we are using a very small dataset and much reduced training time (few epochs) to show you the end-to-end workflow. The <a class="reference internal" href="../tutorials/tutorial-surface-ahmed.html#tutorial-surface-ahmed"><span class="std std-ref">Surface Variable Prediction Tutorial</span></a> demonstrates more accurate training on a real-world sized dataset.</p>
</div>
</section>
<section id="result-visualization">
<h2>Result Visualization<a class="headerlink" href="#result-visualization" title="Link to this heading">¶</a></h2>
<p>The simple 3D interactive viewer GUI and automated screenshot tooling provides a quick method to review surface prediction results. The viewer compares the original (ground truth) input mesh vs. the predicted mesh across an entire dataset. The viewer uses the same config and output directories, including manifest files, to locate the input and output files.</p>
<p>The viewer is not intended as a substitute feature-rich applications like ParaView.</p>
<p>Start the viewer on a machine with a display by running:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>mlsimkit-learn<span class="w"> </span>--output-dir<span class="w"> </span>quickstart/surface<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--config<span class="w"> </span>src/mlsimkit/conf/surface/sample.yaml<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>surface<span class="w"> </span>view
</pre></div>
</div>
<img alt="../_images/quickstart-surface-viewer.gif" class="align-center" src="../_images/quickstart-surface-viewer.gif" />
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p><strong>The viewer needs a display</strong>. On remote Linux/Ubuntu machines, follow the <a class="reference internal" href="troubleshooting.html#troubleshooting-xvfb"><span class="std std-ref">troubleshooting guide</span></a> to render screenshots without a GUI. You will see the following error otherwise:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>This system does not appear to be running an xserver.
PyVista will likely segfault when rendering.

Try starting a virtual frame buffer with xvfb, or using
  ``pyvista.start_xvfb()``

  warnings.warn(
Segmentation fault (core dumped)
</pre></div>
</div>
</div>
<p>By default, the prediction results for the training dataset are displayed. Use the &lt;right&gt; and &lt;left&gt; arrow keys to scroll through the meshes and &lt;tab&gt; to switch between surface variables, when available. The quickstart sample data has just one surface variable (“pMean”) in the dataset.</p>
<p><strong>Screenshots:</strong> To automatically output images without a GUI, pass <code class="docutils literal notranslate"><span class="pre">--no-gui</span></code>. Screenshot images still require access to a display:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>mlsimkit-learn<span class="w"> </span>--output-dir<span class="w"> </span>quickstart/surface<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--config<span class="w"> </span>src/mlsimkit/conf/surface/sample.yaml<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>surface<span class="w"> </span>view<span class="w"> </span>--no-gui<span class="w"> </span>--variable<span class="w"> </span><span class="s2">&quot;pMean&quot;</span>
</pre></div>
</div>
<p>By default, screenshots are written to <code class="docutils literal notranslate"><span class="pre">&lt;output-dir&gt;/screenshots</span></code>. For example, for this quickstart, you will see console logs like this:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span>MLSimKit<span class="o">]</span><span class="w"> </span>Learning<span class="w"> </span>Tools
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span>Package<span class="w"> </span>Version:<span class="w"> </span><span class="m">0</span>.1.1.dev74+gf3672bc.d20240607
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span>Use<span class="w"> </span>Case:<span class="w"> </span>Surface<span class="w"> </span>variable<span class="w"> </span>prediction<span class="w"> </span>via<span class="w"> </span>MeshGraphNets<span class="w"> </span><span class="o">(</span>MGN<span class="o">)</span>
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span>Screenshot<span class="w"> </span>written:<span class="w"> </span>/home/ubuntu/mlsimkit/quickstart/surface/screenshots/run0000_boundary_1_mapped_pMean.png
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span>Screenshot<span class="w"> </span>written:<span class="w"> </span>/home/ubuntu/mlsimkit/quickstart/surface/screenshots/run0006_boundary_7_mapped_pMean.png
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span>Screenshot<span class="w"> </span>written:<span class="w"> </span>/home/ubuntu/mlsimkit/quickstart/surface/screenshots/run0001_boundary_2_mapped_pMean.png
<span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span>Screenshot<span class="w"> </span>written:<span class="w"> </span>/home/ubuntu/mlsimkit/quickstart/surface/screenshots/run0004_boundary_5_mapped_pMean.png
</pre></div>
</div>
<p><strong>Screenshots on remote Linux servers:</strong> See the <a class="reference internal" href="user-guide-surface.html#user-guide-surface-visualizations"><span class="std std-ref">surface prediction user guide</span></a> for how to take screenshots on remote (headless) Linux servers using a virtual framebuffer. You may also configure what meshes and variables are used for the visualizations.</p>
</section>
<section id="next-steps">
<h2>Next Steps<a class="headerlink" href="#next-steps" title="Link to this heading">¶</a></h2>
<p>Follow the <a class="reference internal" href="../tutorials/tutorial-surface-ahmed.html#tutorial-surface-ahmed"><span class="std std-ref">Surface Variable Prediction Tutorial</span></a> to train on a real large-scale dataset and make accurate predictions.</p>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper"><!--
<p class="logo">
  <a href="../index.html">
    <img class="logo" src="../_static/mlsimkit-sidebar.png" alt="MLSimKit logo" />
  </a>
</p>
-->

<h4><a href="../index.html">AI Surrogate Models in Engineering on AWS</a></h4>
<p>
  Tools to develop and use ML predictive models as surrogates for physics-based simulations.
</p>

<h4>Useful Links</h4>
<ul>
  <li><a href="install.html">Install</a></li>
  <li><a href="quickstart-kpi.html">Quickstart KPI</a></li>
  <li><a href="quickstart-slices.html">Quickstart Slices</a></li>
  <li><a href="#">Quickstart Surfaces</a></li>
  <li><a href="troubleshooting.html">Troubleshooting</a></li>
</ul>

<div id="native-ribbon">
</div>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="install.html">Install</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickstart-kpi.html">Quickstart with KPI Prediction</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Quickstart with Surface Variable Prediction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#sample-dataset">Sample Dataset</a></li>
<li class="toctree-l2"><a class="reference internal" href="#external-datasets">External Datasets</a></li>
<li class="toctree-l2"><a class="reference internal" href="#run-the-sample">Run the Sample</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#running-on-gpu">Running on GPU</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#results">Results</a></li>
<li class="toctree-l2"><a class="reference internal" href="#result-visualization">Result Visualization</a></li>
<li class="toctree-l2"><a class="reference internal" href="#next-steps">Next Steps</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="quickstart-slices.html">Quickstart with Slice Prediction</a></li>
<li class="toctree-l1"><a class="reference internal" href="troubleshooting.html">Troubleshooting</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/tutorial-kpi-windsor.html">KPI Prediction Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/tutorial-surface-ahmed.html">Surface Variable Prediction Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/tutorial-slices-windsor.html">Slice Prediction Tutorial</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../datasets/ahmed.html">AhmedML Dataset</a></li>
<li class="toctree-l1"><a class="reference internal" href="../datasets/windsor.html">WindsorML Dataset</a></li>
<li class="toctree-l1"><a class="reference internal" href="../datasets/drivaer.html">DrivAerML Dataset</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="user-guide-kpi.html">Model User Guide – KPI Prediction</a></li>
<li class="toctree-l1"><a class="reference internal" href="user-guide-surface.html">Model User Guide – Surface Variable Prediction</a></li>
<li class="toctree-l1"><a class="reference internal" href="user-guide-slice.html">Model User Guide – Slice Prediction</a></li>
<li class="toctree-l1"><a class="reference internal" href="notebook-guide.html">Using the MLSimKit SDK Interactively (Notebooks, IPython)</a></li>
<li class="toctree-l1"><a class="reference internal" href="mlflow-guide.html">Tracking Experiments and Results with MLFLow</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../dev/guide.html">Code Structure and Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev/learn.html">Learning Module (<code class="docutils literal notranslate"><span class="pre">mlsimkit.learn</span></code>)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev/cli-toolkit.html">Creating Custom CLI Commands</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../dev/api.html">MLSimKit SDK API</a></li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
      <li>Previous: <a href="quickstart-kpi.html" title="previous chapter">Quickstart with KPI Prediction</a></li>
      <li>Next: <a href="quickstart-slices.html" title="next chapter">Quickstart with Slice Prediction</a></li>
  </ul></li>
</ul>
</div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;Copyright 2025 Amazon.com, Inc. or its affiliates. All Rights Reserved..
      
      |
      <a href="../_sources/user/quickstart-surface.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>